import ollama

def generate_response(model_name, prompt):

    try:
        # request to model
        response = ollama.chat(
            model=model_name,
            messages=[{'role': 'user', 'content': prompt}]
        )
        # JSON extraction
        return response['message']['content']
    except Exception as e:
        print(f"Error while polling Ollama: {e}")
        return None


if __name__ == "__main__":
    # model choice
    model_name = "llama3.2:1b"  
    prompt = """
            Придумай урок немецкого языка для уровня A1 на тему "Знакомство". Урок должен быть структурирован следующим образом:

1. Введение:
   - Краткое объяснение основной лексики, связанной с темой "Знакомство" (например, "Привет", "Как дела?", "Меня зовут").
   - Пояснение основных грамматических конструкций, таких как вопросительные предложения и формы глагола "быть" (sein).

2. Презентация:
   - Представление новой лексики, включая 10-15 слов и фраз, связанных с темой.
   - Примеры предложений с новой лексикой.
   - Пояснение произношения трудных слов.

3. Практика:
   - Простые упражнения для запоминания лексики, например, заполни пропуски в предложениях или составь вопросы.
   - Диалоги для ролевых игр, например, "Знакомство с новым человеком".

4. Заключение:
   - Повторение ключевых выражений и грамматических структур.
   - Вопросы для закрепления материала.
   - Домашнее задание на тему знакомства (например, составить краткое представление о себе).

Урок должен быть интерактивным и легко адаптируемым для начинающих. Он должен включать объяснения на русском языке для новых слов и грамматических тем.

"""

    
    response = generate_response(model_name, prompt)
    if response:
        print("Response:")
        print(response)
